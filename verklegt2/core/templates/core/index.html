{% extends "base.html" %}
{% load humanize %}

{% block title %}Castle Apartments | Home{% endblock %}

{% block content %}
<!-- Hero -->
<section class="container mx-auto max-w-7xl px-6">
  <div
    class="bg-brand-light rounded-3xl p-10 grid md:grid-cols-2 gap-10 items-center py-20"
    style="
      background-image: url('/media/item_images/castle_no_bg.png');
      background-size: 40%;
      background-position: right;
      background-repeat: no-repeat;
    "
  >
    <!-- Hero text -->
    <div class="pl-6">
      <h1 class="text-4xl lg:text-5xl font-extrabold mb-4 leading-tight">
        Easy way to find a perfect property
      </h1>
      <p class="text-slate-600 mb-8 max-w-sm">
        We provide a complete service for the sale, purchase or rental of
        real estate.
      </p>

      <!-- Search box -->
      <form
        class="flex flex-col sm:flex-row gap-4 bg-white px-4 py-3 rounded-xl shadow-lg max-w-xl text-xs"
      >
        <select
          class="flex-1 appearance-none bg-transparent focus:outline-none text-ellipsis overflow-hidden whitespace-normal"
        >
          <option selected>Select Your City</option>
        </select>
        <span class="hidden sm:block w-px bg-slate-200"></span>
        <select
          class="flex-1 appearance-none bg-transparent focus:outline-none text-ellipsis overflow-hidden whitespace-normal"
        >
          <option selected>Choose Property Type</option>
        </select>
        <span class="hidden sm:block w-px bg-slate-200"></span>
        <select
          class="flex-1 appearance-none bg-transparent focus:outline-none text-ellipsis overflow-hidden whitespace-normal"
        >
          <option selected>Choose Price Range</option>
        </select>
        <button
          type="submit"
          class="shrink-0 w-11 h-11 grid place-items-center rounded-lg bg-brand text-white"
        >
          üîç
        </button>
      </form>
    </div>
  </div>
</section>

<!-- Location cards -->
<section class="container mx-auto max-w-7xl px-6 mt-20">
  <h2 class="text-3xl font-bold text-center mb-2">
    Based on your location
  </h2>
  <p class="text-center text-slate-500 mb-10">
    Some of our picked properties near you.
  </p>

  <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
    <!-- You can loop over properties dynamically with Django later -->
    {% for property in featured_properties %}
    <a
      href="{% url 'property:detail' property.id %}"
      class="relative bg-white rounded-xl border shadow-sm hover:shadow-lg hover:-translate-y-1 transition"
    >
      <span
        class="absolute top-3 left-3 bg-brand text-white text-xs font-semibold px-2 py-0.5 rounded"
        >Popular</span
      >
      <img
        src="{{ property.main_image.url }}"
        alt="{{ property.title }}"
        class="h-44 w-full object-cover rounded-t-xl"
      />
      <div class="p-4">
        <p class="font-bold mb-0.5">{{ property.price|floatformat:"0"|intcomma }} kr</p>
        <h3 class="font-semibold mb-2">{{ property.title }}</h3>
        <div class="flex flex-wrap gap-4 text-sm text-slate-500">
          <span>{{ property.bedrooms }} Beds</span>
          <span>{{ property.bathrooms }} Bathrooms</span>
          <span>{{ property.sqft }} m¬≤</span>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>

  <div class="text-center mt-10">
    <a href="{% url 'property:list' %}">
      <button class="px-6 py-3 rounded-lg bg-brand text-white font-semibold hover:opacity-90 transition">
        Browse more properties
      </button>
    </a>
  </div>
</section>

<!-- CTA section -->
<section class="bg-gradient-to-r from-dark to-dark-700 text-white py-24 mt-24">
  <div class="container mx-auto max-w-7xl px-6">
    <h2 class="text-3xl md:text-4xl font-bold max-w-xl">
      We make it easy for <span class="text-indigo-300">tenants and landlords</span>.
    </h2>
    <p class="max-w-xl mt-4 text-indigo-200">
      Whether it's selling your current home, getting financing, or buying a new home, we make it easy and efficient. The best part? You'll save a bunch of money and time with our services.
    </p>

    <!-- CTA boxes -->
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-14">
      <div class="flex flex-col gap-4 bg-white/10 rounded-xl p-8 backdrop-blur">
        <div class="text-3xl">üìπ</div>
        <h3 class="font-semibold text-lg">Virtual home tour</h3>
        <p class="text-indigo-200 text-sm">
          Communicate directly with landlords and enjoy a virtual tour before you buy or rent.
        </p>
      </div>

      <div class="flex flex-col gap-4 bg-white text-slate-900 rounded-xl p-8">
        <div class="text-3xl">üè†</div>
        <h3 class="font-semibold text-lg">Find the best deal</h3>
        <p class="text-slate-600 text-sm">
          Browse thousands of properties, save favourites and set alerts so you never miss the perfect home.
        </p>
      </div>

      <div class="flex flex-col gap-4 bg-white/10 rounded-xl p-8 backdrop-blur">
        <div class="text-3xl">üíº</div>
        <h3 class="font-semibold text-lg">Get expert advice</h3>
        <p class="text-indigo-200 text-sm">
          Find the right financing options and expert support for your investment journey.
        </p>
      </div>
    </div>

    <!-- Stats -->
    <div class="grid md:grid-cols-3 text-center gap-8 mt-24 border-t border-white/20 pt-12">
      <div>
        <h3 class="text-3xl font-bold">7.4%</h3>
        <p class="text-indigo-200 text-sm">Property return rate</p>
      </div>
      <div>
        <h3 class="text-3xl font-bold">3,856</h3>
        <p class="text-indigo-200 text-sm">Properties in Sell & Rent</p>
      </div>
      <div>
        <h3 class="text-3xl font-bold">2,540</h3>
        <p class="text-indigo-200 text-sm">Daily completed transactions</p>
      </div>
    </div>
  </div>
</section>

<!-- Landlord CTA -->
<section class="container mx-auto max-w-7xl px-6 py-24 text-center">
  <small class="text-brand font-semibold">No Spam Promise</small>
  <h2 class="text-3xl font-bold mt-2">Are you a landlord?</h2>
  <p class="max-w-md mx-auto text-slate-500 mt-4">
    Discover ways to increase your home's value and get listed. No Spam.
  </p>

  <form
    class="flex flex-col sm:flex-row justify-center gap-4 mt-8 max-w-lg mx-auto"
  >
    <input
      type="email"
      placeholder="Enter your email address"
      class="flex-1 px-4 py-3 rounded-lg border border-slate-300 focus:ring-brand focus:border-brand outline-none"
    />
    <button
      class="px-6 py-3 rounded-lg bg-brand text-white font-semibold hover:opacity-90 transition"
      type="submit"
    >
      Submit
    </button>
  </form>
  <p class="text-slate-500 text-sm mt-4">
    Join <strong>10,000+</strong> other landlords in our Estatery community.
  </p>
</section>
{% endblock %}
